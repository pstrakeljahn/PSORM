RewriteEngine On
RewriteBase /test/

RewriteCond %{REQUEST_URI} !^/test/public/ [NC]
RewriteRule ^(.*)$ /test/public/api.php [L]